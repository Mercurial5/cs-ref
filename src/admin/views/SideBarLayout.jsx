import {NavLink, useNavigate} from 'react-router-dom'

import {LogoutLogic} from '../../client/routes/Settings';

export function SideBarLayout() {
    const navigate = useNavigate();
    return (
        <div
            className="list-none font-[Inter] w-full xl:w-1/5 lg:w-1/3 md:w-1/3 bg-white shadow-md rounded-xl mr-4 p-4 flex flex-col justify-between">
            <div>
                <ul
                    aria-labelledby="mobileMenuToggle"
                    className="flex flex-col"
                >

                    <NavItem
                        text="Admin"
                        icon="admin"
                    />

                    <div className="group inline-block relative">
                        <div
                            className="flex flex-row hover:bg-[#F3F4F6] hover:rounded-xl focus:bg-[#F3F4F6] focus:rounded-xl">
                            <NavItem
                                text="Управление"
                                icon="managing"
                                link="/panel/partner"/>
                        </div>
                        <ul className="hidden group-hover:flex flex-col text-sm">
                            <a onClick={() => navigate("/panel/partner")}>
                                <li className="py-2 hover:bg-[#F3F4F6] hover:rounded-xl cursor-pointer pl-[54px]">Партнеры</li>
                            </a>
                            <a onClick={() => navigate("/panel/manager")}>
                                <li className="py-2 hover:bg-[#F3F4F6] hover:rounded-xl cursor-pointer pl-[54px]">Менеджеры</li>
                            </a>
                            <a onClick={() => navigate("/panel/client")}>
                                <li className="py-2 hover:bg-[#F3F4F6] hover:rounded-xl cursor-pointer pl-[54px]">Клиенты</li>
                            </a>

                        </ul>
                    </div>

                    <div className=" hover:bg-[#F3F4F6] hover:rounded-xl focus:bg-[#F3F4F6] focus:rounded-xl">
                        <NavItem
                            text="Статистика"
                            icon="statistic"
                            link="/panel/statistic"/>
                    </div>

                    <div className=" hover:bg-[#F3F4F6] hover:rounded-xl focus:bg-[#F3F4F6] focus:rounded-xl">
                        <NavItem
                            text="Settings"
                            icon="settings"
                            link="/panel/settings"/>
                    </div>

                </ul>
            </div>

            <div className="text-red-600 flex flex-row">
                <LogoutLogic>
                    {({handleLogout}) => (
                        <NavItem icon="logout" onClick={handleLogout}/>
                    )}
                </LogoutLogic>
            </div>
        </div>
    );
}

function NavItem(props) {
    return (
        <>
            <li onClick={props.onClick}>
                <NavLink to={props.link || '#'}>
                    {({isActive}) => (
                        <>
                            <div className="flex gap-4 py-2 p-4">
                                <NavIcon name={props.icon} active={isActive}/>
                                <span
                                    className={`text-sm lg:text-base font-regular align-middle ${
                                        isActive ? "text-emerald-700" : "text-black"
                                    }`}
                                >{props.text}
                </span>
                            </div>
                        </>
                    )}
                </NavLink>
            </li>
        </>
    );
}

function NavIcon({name, active}) {
    let Icon =
        name === "settings" ? (
            SettingsIcon
        ) : name === "managing" ? (
            ManagingIcon
        ) : name === "statistic" ? (
            StatisticIcon
        ) : name === "admin" ? (
            AdminIcon
        ) : name === "logout" ? (
            LogOutIcon
        ) : (
            <span/>
        );


    return <Icon active={active}/>;
}


function LogOutIcon() {
    return (
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M3.8499 12C3.8499 9.99114 3.85016 8.45417 3.91129 7.26228C3.97321 6.05473 4.09496 5.30104 4.28911 4.81568C4.45852 4.39214 4.66909 4.20038 4.99548 4.07345C5.3962 3.91761 6.00375 3.84999 6.9999 3.84999C7.97371 3.84999 8.65314 3.91173 9.12801 4.01725C9.60137 4.12244 9.80439 4.25656 9.89886 4.35103C9.98311 4.43528 10.0545 4.56044 10.099 4.82723C10.1475 5.11838 10.1499 5.47843 10.1499 5.99999C10.1499 6.46944 10.5305 6.84999 10.9999 6.84999C11.4693 6.84999 11.8499 6.46944 11.8499 5.99999L11.8499 5.95742V5.95741C11.85 5.49111 11.85 4.99303 11.7758 4.54775C11.6953 4.06455 11.5167 3.56471 11.1009 3.14895C10.6954 2.74342 10.1484 2.50254 9.49679 2.35773C8.84666 2.21326 8.0261 2.14999 6.9999 2.14999C5.99606 2.14999 5.10361 2.20737 4.37932 2.48904C3.58072 2.79961 3.04128 3.35785 2.7107 4.18431C2.40484 4.94895 2.27659 5.94526 2.21352 7.17521C2.1499 8.41571 2.1499 9.99583 2.1499 11.9755V11.9757V12V12.0243V12.0245C2.1499 14.0042 2.1499 15.5843 2.21352 16.8248C2.27659 18.0547 2.40484 19.051 2.7107 19.8157C3.04128 20.6421 3.58072 21.2004 4.37932 21.5109C5.10361 21.7926 5.99606 21.85 6.9999 21.85C8.0261 21.85 8.84666 21.7867 9.49679 21.6423C10.1484 21.4974 10.6954 21.2566 11.1009 20.851C11.5167 20.4353 11.6953 19.9354 11.7758 19.4522C11.85 19.007 11.85 18.5089 11.8499 18.0426V18.0426L11.8499 18C11.8499 17.5306 11.4693 17.15 10.9999 17.15C10.5305 17.15 10.1499 17.5306 10.1499 18C10.1499 18.5216 10.1475 18.8816 10.099 19.1728C10.0545 19.4395 9.98311 19.5647 9.89886 19.649C9.80439 19.7434 9.60137 19.8775 9.12801 19.9827C8.65314 20.0883 7.97371 20.15 6.9999 20.15C6.00375 20.15 5.3962 20.0824 4.99548 19.9265C4.66909 19.7996 4.45852 19.6078 4.28911 19.1843C4.09496 18.699 3.97321 17.9453 3.91129 16.7377C3.85016 15.5458 3.8499 14.0088 3.8499 12ZM17.6009 7.39895C17.269 7.06701 16.7308 7.06701 16.3989 7.39895C16.0669 7.7309 16.0669 8.26909 16.3989 8.60103L18.9478 11.15H10.9999C10.5305 11.15 10.1499 11.5306 10.1499 12C10.1499 12.4694 10.5305 12.85 10.9999 12.85H18.9478L16.3989 15.399C16.0669 15.7309 16.0669 16.2691 16.3989 16.601C16.7308 16.933 17.269 16.933 17.6009 16.601L21.6009 12.601C21.9329 12.2691 21.9329 11.7309 21.6009 11.399L17.6009 7.39895Z"
                fill="#FF3B30"/>
        </svg>
    )
}

function AdminIcon() {
    return (
        <svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM13 7C13 8.65685 11.6569 10 10 10C8.34315 10 7 8.65685 7 7C7 5.34315 8.34315 4 10 4C11.6569 4 13 5.34315 13 7ZM9.99998 18.5C11.784 18.5 13.4397 17.9504 14.8069 17.0112C15.4108 16.5964 15.6688 15.8062 15.3178 15.1632C14.59 13.8303 13.0902 13 9.99994 13C6.90969 13 5.40997 13.8302 4.68214 15.1632C4.33105 15.8062 4.5891 16.5963 5.19296 17.0111C6.56018 17.9503 8.2159 18.5 9.99998 18.5Z"
                  fill="#007282"/>
        </svg>
    );
}

function ManagingIcon() {
    return (
        <svg width="22" height="24" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M8.99999 0.399994C6.34919 0.399994 4.19999 2.54919 4.19999 5.19999V6.39999H2.99999C2.38799 6.39999 1.87441 6.85961 1.80721 7.46801L0.607208 18.268C0.570008 18.6064 0.678 18.946 0.906 19.2004C1.134 19.4548 1.45919 19.6 1.79999 19.6H16.2C16.5408 19.6 16.866 19.4548 17.094 19.2004C17.322 18.946 17.43 18.6064 17.3928 18.268L16.1928 7.46801C16.1256 6.85961 15.612 6.39999 15 6.39999H13.8V5.19999C13.8 2.54919 11.6508 0.399994 8.99999 0.399994ZM11.4 6.39999V5.19999C11.4 3.87399 10.326 2.79999 8.99999 2.79999C7.67399 2.79999 6.59999 3.87399 6.59999 5.19999V6.39999H11.4ZM4.19999 9.99999C4.19999 9.33759 4.73759 8.79999 5.39999 8.79999C6.06239 8.79999 6.59999 9.33759 6.59999 9.99999C6.59999 10.6624 6.06239 11.2 5.39999 11.2C4.73759 11.2 4.19999 10.6624 4.19999 9.99999ZM12.6 8.79999C11.9376 8.79999 11.4 9.33759 11.4 9.99999C11.4 10.6624 11.9376 11.2 12.6 11.2C13.2624 11.2 13.8 10.6624 13.8 9.99999C13.8 9.33759 13.2624 8.79999 12.6 8.79999Z"
                  fill="#1C274C" fillOpacity="0.7"/>
        </svg>
    )
}

function StatisticIcon() {
    return (

        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M6.75 14C6.75 13.5858 6.41421 13.25 6 13.25C5.58579 13.25 5.25 13.5858 5.25 14V17C5.25 17.4142 5.58579 17.75 6 17.75C6.41421 17.75 6.75 17.4142 6.75 17V14Z"
                fillOpacity="0.7" fill="#1C274C"/>
            <path
                d="M11 10.25C11.4142 10.25 11.75 10.5858 11.75 11V17C11.75 17.4142 11.4142 17.75 11 17.75C10.5858 17.75 10.25 17.4142 10.25 17V11C10.25 10.5858 10.5858 10.25 11 10.25Z"
                fillOpacity="0.7" fill="#1C274C"/>
            <path
                d="M16.75 8C16.75 7.58579 16.4142 7.25 16 7.25C15.5858 7.25 15.25 7.58579 15.25 8V17C15.25 17.4142 15.5858 17.75 16 17.75C16.4142 17.75 16.75 17.4142 16.75 17V8Z"
                fillOpacity="0.7" fill="#1C274C"/>
            <path fillRule="evenodd" clipRule="evenodd"
                  d="M10.9426 0.25C8.63423 0.249987 6.82519 0.249977 5.41371 0.439747C3.96897 0.633986 2.82895 1.03933 1.93414 1.93414C1.03933 2.82895 0.633986 3.96897 0.439747 5.41371C0.249977 6.82519 0.249987 8.63423 0.25 10.9426V11.0574C0.249987 13.3658 0.249977 15.1748 0.439747 16.5863C0.633986 18.031 1.03933 19.1711 1.93414 20.0659C2.82895 20.9607 3.96897 21.366 5.41371 21.5603C6.82519 21.75 8.63423 21.75 10.9426 21.75H11.0574C13.3658 21.75 15.1748 21.75 16.5863 21.5603C18.031 21.366 19.1711 20.9607 20.0659 20.0659C20.9607 19.1711 21.366 18.031 21.5603 16.5863C21.75 15.1748 21.75 13.3658 21.75 11.0574V10.9426C21.75 8.63423 21.75 6.82519 21.5603 5.41371C21.366 3.96897 20.9607 2.82895 20.0659 1.93414C19.1711 1.03933 18.031 0.633986 16.5863 0.439747C15.1748 0.249977 13.3658 0.249987 11.0574 0.25H10.9426ZM2.9948 2.9948C3.56445 2.42514 4.33517 2.09825 5.61358 1.92637C6.91356 1.75159 8.62178 1.75 11 1.75C13.3782 1.75 15.0864 1.75159 16.3864 1.92637C17.6648 2.09825 18.4355 2.42514 19.0052 2.9948C19.5749 3.56445 19.9018 4.33517 20.0736 5.61358C20.2484 6.91356 20.25 8.62178 20.25 11C20.25 13.3782 20.2484 15.0864 20.0736 16.3864C19.9018 17.6648 19.5749 18.4355 19.0052 19.0052C18.4355 19.5749 17.6648 19.9018 16.3864 20.0736C15.0864 20.2484 13.3782 20.25 11 20.25C8.62178 20.25 6.91356 20.2484 5.61358 20.0736C4.33517 19.9018 3.56445 19.5749 2.9948 19.0052C2.42514 18.4355 2.09825 17.6648 1.92637 16.3864C1.75159 15.0864 1.75 13.3782 1.75 11C1.75 8.62178 1.75159 6.91356 1.92637 5.61358C2.09825 4.33517 2.42514 3.56445 2.9948 2.9948Z"
                  fillOpacity="0.7" fill="#1C274C"/>
        </svg>

    )
}

function SettingsIcon() {
    return (
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M13.675 4.317C13.249 2.561 10.751 2.561 10.325 4.317C10.049 5.452 8.749 5.99 7.753 5.382C6.209 4.442 4.443 6.209 5.383 7.752C5.5243 7.98375 5.60889 8.24559 5.62987 8.51621C5.65085 8.78683 5.60764 9.05859 5.50375 9.30935C5.39985 9.56011 5.23822 9.7828 5.032 9.95929C4.82578 10.1358 4.5808 10.2611 4.317 10.325C2.561 10.751 2.561 13.249 4.317 13.675C4.58056 13.7391 4.82529 13.8645 5.03127 14.0409C5.23726 14.2174 5.3987 14.44 5.50247 14.6906C5.60624 14.9412 5.64942 15.2128 5.62848 15.4832C5.60755 15.7537 5.5231 16.0153 5.382 16.247C4.442 17.791 6.209 19.557 7.752 18.617C7.98375 18.4757 8.24559 18.3911 8.51621 18.3701C8.78683 18.3491 9.05859 18.3924 9.30935 18.4963C9.56011 18.6001 9.7828 18.7618 9.95929 18.968C10.1358 19.1742 10.2611 19.4192 10.325 19.683C10.751 21.439 13.249 21.439 13.675 19.683C13.7391 19.4194 13.8645 19.1747 14.0409 18.9687C14.2174 18.7627 14.44 18.6013 14.6906 18.4975C14.9412 18.3938 15.2128 18.3506 15.4832 18.3715C15.7537 18.3924 16.0153 18.4769 16.247 18.618C17.791 19.558 19.557 17.791 18.617 16.248C18.4757 16.0162 18.3911 15.7544 18.3701 15.4838C18.3491 15.2132 18.3924 14.9414 18.4963 14.6907C18.6001 14.4399 18.7618 14.2172 18.968 14.0407C19.1742 13.8642 19.4192 13.7389 19.683 13.675C21.439 13.249 21.439 10.751 19.683 10.325C19.4194 10.2609 19.1747 10.1355 18.9687 9.95905C18.7627 9.78258 18.6013 9.55999 18.4975 9.30938C18.3938 9.05877 18.3506 8.78721 18.3715 8.51677C18.3924 8.24634 18.4769 7.98466 18.618 7.753C19.558 6.209 17.791 4.443 16.248 5.383C16.0162 5.5243 15.7544 5.60889 15.4838 5.62987C15.2132 5.65085 14.9414 5.60764 14.6907 5.50375C14.4399 5.39985 14.2172 5.23822 14.0407 5.032C13.8642 4.82578 13.7389 4.5808 13.675 4.317Z"
                stroke="#1C274C" strokeOpacity="0.7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            <path
                d="M14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213Z"
                stroke="#1C274C" strokeOpacity="0.7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
    )
}
